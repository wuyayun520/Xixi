
//: Declare String Begin

/*: "CacheAddrServerUrlSelectIndexKey" :*/
fileprivate let userLabValue:[UInt8] = [0x46,0x64,0x66,0x6d,0x60,0x44,0x61,0x61,0x77,0x56,0x60,0x77,0x73,0x60,0x77,0x50,0x77,0x69,0x56,0x60,0x69,0x60,0x66,0x71,0x4c,0x6b,0x61,0x60,0x7d,0x4e,0x60,0x7c]

private func mainImage(app num: UInt8) -> UInt8 {
    return num ^ 5
}

/*: "CacheAppleLoginNickNameKey" :*/
fileprivate let kBackgroundData:[Character] = ["C","a","c","h","e","A","p","p","l","e","L","o","g","i","n","N","i","c","k","N","a","m","e","K","e","y"]

/*: "CacheLoginUidCacheKey" :*/
fileprivate let notiFemaleName:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","i","d","C","a","c","h","e","K","e","y"]

/*: "CacheLoginUserInfoCacheKey" :*/
fileprivate let k_indexData:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","s","e","r","I","n","f","o","C"]
fileprivate let notiPhoneData:String = "key appacheKey"

/*: "CacheLastLoginTypeCacheKey" :*/
fileprivate let dataListMsg:String = "data gift to formatCacheL"
fileprivate let app_numberMsg:String = "inTypeCawith of of"
fileprivate let constModelUrl:String = "cheKeyshrink view bottom min"

/*: "CacheLoginUserConfigKey" :*/
fileprivate let dataViewId:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","s","e","r","C","o","n","f","i"]
fileprivate let appIndexValue:String = "item var list indexgKey"

/*: "CacheAppConfigKey" :*/
fileprivate let userFrameStr:[Character] = ["C","a","c","h","e","A","p","p","C","o","n","f","i"]
fileprivate let showInfoData:String = "gKeypage view"

/*: "CacheUserTagCacheUrlKey" :*/
fileprivate let noti_tempMsg:String = "CacheUvar super"
fileprivate let notiModelNameStr:[Character] = ["a","c","h","e","U","r","l","K","e","y"]

/*: "CacheUserCookiesKey" :*/
fileprivate let userLabEventText:String = "CacheUtype to content var point"
fileprivate let k_imageCollectionValue:[Character] = ["s","e","r","C","o","o","k","i","e","s","K","e","y"]

/*: "CacheHomeTabTurnOnNotificationsKey" :*/
fileprivate let constFillSumText:[UInt8] = [0xcf,0xed,0xef,0xe4,0xe9,0xc4,0xe3,0xe1,0xe9,0xd8,0xed,0xee,0xd8,0xf9,0xfe,0xe2,0xc3,0xe2,0xc2,0xe3,0xf8,0xe5,0xea,0xe5,0xef,0xed,0xf8,0xe5,0xe3,0xe2,0xff,0xc7,0xe9,0xf5]

/*: "CacheMessageTabTurnOnNotificationsKey" :*/
fileprivate let appMagazineValue:[UInt8] = [0x79,0x65,0x4b,0x73,0x6e,0x6f,0x69,0x74,0x61,0x63,0x69,0x66,0x69,0x74,0x6f,0x4e,0x6e,0x4f,0x6e,0x72,0x75,0x54,0x62,0x61,0x54,0x65,0x67,0x61,0x73,0x73,0x65,0x4d,0x65,0x68,0x63,0x61,0x43]

/*: "CacheMessageTabCloseNotificationsKey" :*/
fileprivate let main_redPath:[UInt8] = [0x93,0xb1,0xb3,0xb8,0xb5,0x9d,0xb5,0xa3,0xa3,0xb1,0xb7,0xb5,0x84,0xb1,0xb2,0x93,0xbc,0xbf,0xa3,0xb5,0x9e,0xbf,0xa4,0xb9,0xb6,0xb9,0xb3,0xb1,0xa4,0xb9,0xbf,0xbe,0xa3,0x9b,0xb5,0xa9]

private func filterUse(release num: UInt8) -> UInt8 {
    return num ^ 208
}

/*: "CacheCallShowTag" :*/
fileprivate let notiItemStr:String = "up voice return sizeCacheC"
fileprivate let show_mapText:[Character] = ["w","T","a","g"]

/*: "CacheFirstShowIntimateGuide" :*/
fileprivate let constByEqualId:[Character] = ["C","a","c","h","e","F","i","r","s","t","S","h","o","w","I","n","t","i","m","a","t","e","G","u","i"]
fileprivate let appStatusTaskFormat:String = "dformat"

/*: "CacheFreeTipsViewIsShow_ :*/
fileprivate let show_normalName:String = "event account available toCache"
fileprivate let constSexTitle:[Character] = ["F","r","e","e","T","i","p","s","V","i","e","w","I","s","S","h","o","w","_"]

/*: "CacheLiveTabExplainIsShow_ :*/
fileprivate let user_pageText:[Character] = ["C","a","c","h","e","L","i","v","e","T","a","b","E","x","p","l"]
fileprivate let userLabFilterMessage:String = "error videoainI"

/*: "CacheMaleUnsubscribedAlertIsShow_ :*/
fileprivate let notiToolMsg:[UInt8] = [0x9a,0xb8,0xba,0xb1,0xbc,0x94,0xb8,0xb5,0xbc,0x8c,0xb7,0xaa,0xac,0xbb,0xaa,0xba,0xab,0xb0,0xbb,0xbc,0xbd,0x98,0xb5,0xbc,0xab,0xad,0x90,0xaa,0x8a,0xb1,0xb6,0xae,0x86]

/*: "CacheAIIntimacyViewIsShow" :*/
fileprivate let k_itemFormat:[Character] = ["C","a","c","h","e","A","I","I","n","t","i","m","a","c"]
fileprivate let constPicValue:String = "yViewImodel size active hidden in"

/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let constModelSeekVarTitle:[Character] = ["i","s","F","i","r","s","t","S","h","o"]
fileprivate let noti_filterData:String = "content equal as picwAni"
fileprivate let kTaskFormat:[Character] = ["m","a","t","C","a","c","h","e","K","e","y"]

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let userPushId:[UInt8] = [0x26,0x30,0x3,0x26,0x2f,0x30,0x31,0x10,0x25,0x2c,0x34,0xa,0x1e,0x31,0x20,0x25,0x11,0x26,0x2d,0x30,0x13,0x26,0x22,0x34,0x0,0x1e,0x20,0x25,0x22,0x8,0x22,0x36]

fileprivate func videoLayerView(transaction num: UInt8) -> UInt8 {
    let value = Int(num) - 189
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let main_bottomMessage:[Character] = ["i","s","S","h","o","w","C","l","e","a","n","A","n","i","m","a","t","C","a","c","h","e","K"]
fileprivate let data_valueUrl:String = "observer"

/*: "isConversationIntimateCacheKey" :*/
fileprivate let main_domainData:String = "make row price recordisCon"
fileprivate let show_imageToMessage:String = "atneto"
fileprivate let app_willUrl:String = "ateCskin for"

/*: "sendAutoGreetIsTo" :*/
fileprivate let userUseTitle:String = "sinsidend"
fileprivate let dataBottomName:String = "title socialGreet"
fileprivate let userItemSharedSuccessfullyData:String = "IsTofeature remove view block app"

/*: "SaveInviteCodeKey" :*/
fileprivate let appDirectionName:String = "model"
fileprivate let dataBlockUrl:String = "name make image communicationaveInv"
fileprivate let const_countUrl:String = "odeKeyequal title"

/*: "PrivateChatTipsTitle" :*/
fileprivate let data_arrayUrl:[Character] = ["P","r","i","v"]
fileprivate let appAwakeNameValue:[Character] = ["a","t","e","C","h","a","t","T","i","p","s","T","i","t","l","e"]

/*: "/Documents/User/record/" :*/
fileprivate let app_errorTitle:String = "/Docupath data play to"
fileprivate let constAppId:String = "User/pill m data succeed"
fileprivate let show_videoId:String = "to modeld/"

/*: "/Documents/User/voice/" :*/
fileprivate let mainDataId:[Character] = ["/","D","o","c","u","m","e"]
fileprivate let mainValueMakePath:[Character] = ["n","t","s","/","U","s","e"]
fileprivate let user_timeAcrossStatusStr:String = "empty name color else logr/voice/"

/*: "MessageIntimatePhoto" :*/
fileprivate let mainPreviousPath:String = "shared selfMess"
fileprivate let const_insideName:[Character] = ["m","a"]
fileprivate let show_cardTitle:String = "tePhotolog var file return"

/*: "IntimateDict_ :*/
fileprivate let mainIdentityStr:String = "Intimatreturn in sign"
fileprivate let show_centerValue:[Character] = ["e","D","i","c","t","_"]

/*: "MessageIntimateVideo" :*/
fileprivate let kAppName:[Character] = ["M","e","s","s","a","g","e","I","n","t","i","m","a","t","e","V","i","d","e"]
fileprivate let app_positionKey:[Character] = ["o"]

/*: "MessageAskForGift" :*/
fileprivate let data_leadingFormat:String = "Messageicon self at view up"
fileprivate let data_nameMsg:String = "info no readingAskFor"

/*: "AskForGiftArr_ :*/
fileprivate let mainPlayerData:String = "filter data user finish viewAskFor"
fileprivate let main_detailFrameValue:[Character] = ["G","i","f","t","A","r","r","_"]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  OpenReactiveCompatible.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let data_onEndFormat = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "CacheAddrServerUrlSelectIndexKey"
public let userControlMessage = String(bytes: userLabValue.map{mainImage(app: $0)}, encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "CacheAppleLoginNickNameKey"
public let constInfoId = (String(kBackgroundData))
//: public let TalkingLoginUidCacheKey                  = "CacheLoginUidCacheKey"                  // uid缓存
public let const_deviceValue = (String(notiFemaleName)) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "CacheLoginUserInfoCacheKey"             // 用户信息缓存
public let const_recordUseId = (String(k_indexData) + String(notiPhoneData.suffix(7))) // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "CacheLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let kToViewMsg = (String(dataListMsg.suffix(6)) + "astLog" + String(app_numberMsg.prefix(8)) + String(constModelUrl.prefix(6))) // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "CacheLoginUserConfigKey"                // 用户配置接口
public let k_environmentHalfFormat = (String(dataViewId) + String(appIndexValue.suffix(4))) // 用户配置接口
//: public let TalkingAppConfigKey                      = "CacheAppConfigKey"                      // APP配置接口
public let constErrorTitle = (String(userFrameStr) + String(showInfoData.prefix(4))) // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "CacheUserTagCacheUrlKey"                // 用户标签
public let show_viewData = (String(noti_tempMsg.prefix(6)) + "serTagC" + String(notiModelNameStr)) // 用户标签
//: public let TalkingUserCookiesKey                    = "CacheUserCookiesKey"                    // 用户cookies
public let mainLiveData = (String(userLabEventText.prefix(6)) + String(k_imageCollectionValue)) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "CacheHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let kSessionMessage = String(bytes: constFillSumText.map{$0^140}, encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "CacheMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let dataKeyIndexTitle = String(bytes: appMagazineValue.reversed(), encoding: .utf8)! // messageTab_提醒打开系统通知
//: public let TalkingMessageTabCloseNotificationsKey   = "CacheMessageTabCloseNotificationsKey"   // message 提醒View关闭缓存
public let noti_licenseMessage = String(bytes: main_redPath.map{filterUse(release: $0)}, encoding: .utf8)! // message 提醒View关闭缓存
//: public let TalkingCallShowTag                       = "CacheCallShowTag"                       // 女性接听时展示手势
public let main_statusName = (String(notiItemStr.suffix(6)) + "allSho" + String(show_mapText)) // 女性接听时展示手势
//: public let TalkingFirstShowIntimateGuide            = "CacheFirstShowIntimateGuide"            // 消息详情首次展示亲密度动效
public let const_deviceAcceptKey = (String(constByEqualId) + appStatusTaskFormat.replacingOccurrences(of: "format", with: "e")) // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var user_managerStorageValue: String {
    //: return "CacheFreeTipsViewIsShow_\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
    return (String(show_normalName.suffix(5)) + String(constSexTitle)) + "\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var constFileName: String {
    //: return "CacheLiveTabExplainIsShow_\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
    return (String(user_pageText) + String(userLabFilterMessage.suffix(4)) + "sShow_") + "\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var appLiveName: String {
    //: return "CacheMaleUnsubscribedAlertIsShow_\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
    return String(bytes: notiToolMsg.map{$0^217}, encoding: .utf8)! + "\(String(StatisticalTableReactiveCompatible.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "CacheAIIntimacyViewIsShow"
public let show_keyValue = (String(k_itemFormat) + String(constPicValue.prefix(6)) + "sShow")

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let data_messageFileTimeId = (String(constModelSeekVarTitle) + String(noti_filterData.suffix(4)) + String(kTaskFormat))

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let main_indexGiftKey = String(bytes: userPushId.map{videoLayerView(transaction: $0)}, encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let kVoiceFormat = (String(main_bottomMessage) + data_valueUrl.replacingOccurrences(of: "observer", with: "ey"))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let showScreenTitle = (String(main_domainData.suffix(5)) + "vers" + show_imageToMessage.replacingOccurrences(of: "net", with: "i") + "nIntim" + String(app_willUrl.prefix(4)) + "acheKey")

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let user_senseFormat = (userUseTitle.replacingOccurrences(of: "inside", with: "e") + "Auto" + String(dataBottomName.suffix(5)) + String(userItemSharedSuccessfullyData.prefix(4)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let main_requestMessage = (appDirectionName.replacingOccurrences(of: "model", with: "S") + String(dataBlockUrl.suffix(6)) + "iteC" + String(const_countUrl.prefix(6)))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let show_screenMsg = (String(data_arrayUrl) + String(appAwakeNameValue))

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let noti_pointListId = NSHomeDirectory().appending((String(app_errorTitle.prefix(5)) + "ments/" + String(constAppId.prefix(5)) + "recor" + String(show_videoId.suffix(2))))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let user_useTitle = NSHomeDirectory().appending((String(mainDataId) + String(mainValueMakePath) + String(user_timeAcrossStatusStr.suffix(8))))

//: @objcMembers public class OpenReactiveCompatible: NSObject {
@objcMembers public class OpenReactiveCompatible: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func digitiserColor() -> String {
        //: return Talking_Chat_record_SandboxPath
        return noti_pointListId
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func turnAppAmbages() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return user_useTitle
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func indexOn() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(mainPreviousPath.suffix(4)) + "ageInti" + String(const_insideName) + String(show_cardTitle.prefix(7)))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = StatisticalTableReactiveCompatible.share.loginUid
        let uid = StatisticalTableReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(mainIdentityStr.prefix(7)) + String(show_centerValue)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func listStatus() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(kAppName) + String(app_positionKey))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = StatisticalTableReactiveCompatible.share.loginUid
        let uid = StatisticalTableReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(mainIdentityStr.prefix(7)) + String(show_centerValue)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func pausePath() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(data_leadingFormat.prefix(7)) + String(data_nameMsg.suffix(6)) + "Gift")) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = StatisticalTableReactiveCompatible.share.loginUid
        let uid = StatisticalTableReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(mainPlayerData.suffix(6)) + String(main_detailFrameValue)) + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.disappearPath(folderPath: noti_pointListId)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.disappearPath(folderPath: user_useTitle)
}
